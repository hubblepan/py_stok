<div style="font: bold 38px/1.5em arial; text-align: center;">管控平台接口设计说明书</div>





<div style="font: bold 30px/1.5em arial; text-align: center;">变更记录</div>

| 版本号 | 修改原因／内容 | 修改人 | 审核人 | 修改时间   |
| ------ | -------------- | ------ | ------ | ---------- |
| V1.0   | 创建           | 黄仕强 |        | 2020-10-23 |
|        |                |        |        |            |
|        |                |        |        |            |
|        |                |        |        |            |

 

<div style="font: bold 38px/1.5em arial; text-align: center;">目录</div>

[TOC]



#  组合接口

## 查询组合树

### 接口说明

| **接口描述** | 查询组合树    |
| :----------: | ------------- |
| **接口方式** | http          |
| **接口地址** | /ocp/porttree |
| **请求方式** | GET           |
| **请求类型** | param         |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
|          |          |          |          |

**参数示例：**

```json

```



### 返回值说明

| **参数名称** | **参数说明**         | **数据类型** |
| ------------ | -------------------- | ------------ |
| code         | 结果编码             | string       |
| **data**     | **数据**             | **array**    |
| id           | 主键                 | string       |
| portCode     | 组合代码             | string       |
| portName     | 组合名称             | string       |
| isLeaf       | 是否叶子节点（指标） | boolean      |
| children     | 子分类               | Array        |
| disabled     | 禁用                 | boolean      |
| selectable   | 是否可以被选中       | boolean      |
|              |                      |              |
|              |                      |              |
|              |                      |              |
|              |                      |              |
|              |                      |              |
|              |                      |              |
| msg          | 提示信息             | string       |
| success      | 是否成功             | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
          
        }
    ],
    msg: "查询成功！"，
    success: true
}
```



#  指标数据接口

## 查询指标列表

### 接口说明

| **接口描述** | 查询指标列表        |
| :----------: | ------------------- |
| **接口方式** | http                |
| **接口地址** | /ocp/data/indexinfo |
| **请求方式** | GET                 |
| **请求类型** | param               |

### 请求参数

| 参数名称  | 参数说明 | 是否必填 | 数据类型 |
| --------- | -------- | -------- | -------- |
| indexCode | 指标代码 | 否       | string   |
| indexName | 指标名称 | 否       | string   |

**参数示例：**

```json
{
    indexCode: '',
    indexName: ''
}
```



### 返回值说明

| **参数名称** | **参数说明** | **数据类型** |
| ------------ | ------------ | ------------ |
| code         | 结果编码     | string       |
| **data**     | **数据**     | **array**    |
| id           | 主键         | string       |
| indexCode    | 组合代码     | string       |
| indexName    | 组合名称     | string       |
| msg          | 提示信息     | string       |
| success      | 是否成功     | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
            id: '',
            indexCode: '',
            indexName: '',
        }
    ],
    msg: "查询成功！"，
    success: true
}
```



#  用户接口

## 部门用户树

### 接口说明

| **接口描述** | 部门用户树         |
| :----------: | ------------------ |
| **接口方式** | http               |
| **接口地址** | /ocp/data/usertree |
| **请求方式** | GET                |
| **请求类型** | param              |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
|          |          |          |          |

**参数示例：**

```json

```



### 返回值说明

| **参数名称** | **参数说明**         | **数据类型** |
| ------------ | -------------------- | ------------ |
| code         | 结果编码             | string       |
| **data**     | **数据**             | **array**    |
| id           | 主键                 | string       |
| userName     | 用户名称             | string       |
| userCode     | 用户代码             | string       |
| isLeaf       | 是否叶子节点（指标） | boolean      |
| children     | 子分类               | Array        |
| disabled     | 禁用                 | boolean      |
| selectable   | 是否可以被选中       | boolean      |
| msg          | 提示信息             | string       |
| success      | 是否成功             | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
            id: '',
            userCode: '',
            userName: '',
            isLeaf: false,
            children: [],
            disabled: false,
            selectable: true,
        }
    ],
    msg: "查询成功！"，
    success: true
}
```



## 岗位列表接口



# 指标数据权限分配

## 机构用户树查询

### 接口说明

| **接口描述** | 机构用户树查询                          |
| :----------: | --------------------------------------- |
| **接口方式** | http                                    |
| **接口地址** | /ocp/orguser/query                      |
| **请求方式** | GET                                     |
| **请求类型** | param                                   |
| **后台接口** | ICorpOrgService.getEnabledOrgUserList() |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| 无       |          |          |          |

**参数示例：**

```json
无
```



### 返回值说明

| **参数名称**      | **参数说明**                 | **数据类型** |
| ----------------- | ---------------------------- | ------------ |
| code              | 结果编码                     | string       |
| **data**          | **数据**                     | **array**    |
| id                | 主键                         | string       |
| c_CORP_ORG_CODE   | 机构代码                     | string       |
| c_CORP_ORG_NAME   | 机构名称                     | string       |
| c_CORP_ORG_CODE_P | 父级机构代码                 | string       |
| c_AUTH_ORG_CODE   | 权限机构代码                 | string       |
| c_DATA_TYPE       | 数据类型(ORG-机构/USER-用户) | string       |
| c_DESC            | 备注                         | string       |
| modifier          | 修改人                       | string       |
| modifyDate        | 修改时间                     | string       |
| startUseDate      | 开始使用日期                 | string       |
| endUseDate        | 结束使用日期                 | string       |
| auditState        | 审核状态                     | string       |
| operator          | 审核人                       | string       |
| auditDate         | 审核日期                     | string       |

**返回值示例：**


```json
{
    code: "success",
    data: [
	{id:"202",modifier:"yss",modifyDate:"20171027 17:15:48",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20170810 16:11:04",c_CORP_ORG_CODE:"CWJY",c_CORP_ORG_NAME:"场外交易",c_CORP_ORG_CODE_P:"[root]",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1241",modifier:"yss",modifyDate:"20190719 17:47:59",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20190719 17:48:10",c_CORP_ORG_CODE:"hsyh",c_CORP_ORG_NAME:"恒生用户",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"310",modifier:"Test",modifyDate:"20190806 17:47:48",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"Test",auditDate:"20190806 17:48:02",c_CORP_ORG_CODE:"test1",c_CORP_ORG_NAME:"test1",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"121",modifier:"yss",modifyDate:"20150124 17:09:30",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20171027 09:32:02",c_CORP_ORG_CODE:"核算",c_CORP_ORG_NAME:"会计核算",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1201",modifier:"yss",modifyDate:"20170810 16:10:49",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20190701 16:04:06",c_CORP_ORG_CODE:"稽查部",c_CORP_ORG_NAME:"稽查部",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1181",modifier:"yss",modifyDate:"20170602 09:28:32",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20170602 09:28:50",c_CORP_ORG_CODE:"交易",c_CORP_ORG_NAME:"投资交易",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"141",modifier:"yss",modifyDate:"20150205 14:31:54",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20150205 14:32:03",c_CORP_ORG_CODE:"特定查询",c_CORP_ORG_NAME:"投资经理组",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1221",modifier:"yss",modifyDate:"20170811 16:25:43",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"DF",auditDate:"20170811 16:26:06",c_CORP_ORG_CODE:"新股专员",c_CORP_ORG_NAME:"新股专员",c_CORP_ORG_CODE_P:"CWJY",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"3",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"",auditDate:null,c_CORP_ORG_CODE:"FA_code",c_CORP_ORG_NAME:"FA机构",c_CORP_ORG_CODE_P:"[root]",c_AUTH_ORG_CODE:"[root]",c_DESC:"FA权限部门机构",c_DATA_TYPE:"AUTH"},
	{id:"201",modifier:"yss",modifyDate:"20171027 17:15:34",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20170810 16:11:04",c_CORP_ORG_CODE:"GZ",c_CORP_ORG_NAME:"估值",c_CORP_ORG_CODE_P:"[root]",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"142",modifier:"yss",modifyDate:"20170112 16:18:12",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20170112 16:18:15",c_CORP_ORG_CODE:"htyw",c_CORP_ORG_NAME:"后台运维",c_CORP_ORG_CODE_P:"GZ",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1351",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"yss",c_CORP_ORG_NAME:"yss",c_CORP_ORG_CODE_P:"htyw",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"181",modifier:"yss",modifyDate:"20170920 15:14:46",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20170810 16:11:04",c_CORP_ORG_CODE:"sjry",c_CORP_ORG_NAME:"审计人员",c_CORP_ORG_CODE_P:"GZ",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"161",modifier:"yss",modifyDate:"20170228 13:15:17",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"yss",auditDate:"20170228 13:15:25",c_CORP_ORG_CODE:"ywry",c_CORP_ORG_NAME:"业务人员",c_CORP_ORG_CODE_P:"GZ",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1411",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"Test",c_CORP_ORG_NAME:"测试",c_CORP_ORG_CODE_P:"ywry",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1651",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"Test2",c_CORP_ORG_NAME:"ceshi",c_CORP_ORG_CODE_P:"ywry",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"0",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"shangeh",c_CORP_ORG_NAME:"尚尔航",c_CORP_ORG_CODE_P:"ywry",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1652",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"zhangpei",c_CORP_ORG_NAME:"zhangpei",c_CORP_ORG_CODE_P:"GZ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"2",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"",auditDate:null,c_CORP_ORG_CODE:"IT_code",c_CORP_ORG_NAME:"IT机构",c_CORP_ORG_CODE_P:"[root]",c_AUTH_ORG_CODE:"[root]",c_DESC:"IT权限部门机构",c_DATA_TYPE:"AUTH"},
	{id:"221",modifier:"zhangpei",modifyDate:"20180516 19:47:22",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:"zhangpei",auditDate:"20180516 19:47:28",c_CORP_ORG_CODE:"SMZQ",c_CORP_ORG_NAME:"人保账户管理",c_CORP_ORG_CODE_P:"[root]",c_AUTH_ORG_CODE:"[root]",c_DESC:"",c_DATA_TYPE:"ORG"},
	{id:"1671",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"RMBX",c_CORP_ORG_NAME:"人民保险",c_CORP_ORG_CODE_P:"SMZQ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1675",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"cairenliang",c_CORP_ORG_NAME:"cairenliang",c_CORP_ORG_CODE_P:"SMZQ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1719",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"hjp",c_CORP_ORG_NAME:"hjp",c_CORP_ORG_CODE_P:"SMZQ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1673",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"rmbx",c_CORP_ORG_NAME:"测试人员",c_CORP_ORG_CODE_P:"SMZQ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1674",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"rmbxsh",c_CORP_ORG_NAME:"审核人员",c_CORP_ORG_CODE_P:"SMZQ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"},
	{id:"1676",modifier:" ",modifyDate:" ",startUseDate:"2020-11-09 20:16:39",endUseDate:"2020-11-09 20:16:39",auditState:1,operator:" ",auditDate:" ",c_CORP_ORG_CODE:"wangbowen",c_CORP_ORG_NAME:"wangbowen",c_CORP_ORG_CODE_P:"SMZQ",c_AUTH_ORG_CODE:"[root]",c_DESC:" ",c_DATA_TYPE:"USER"}
	],
    msg: "查询成功！"，
    success: true
}
```



## 监控指标列表查询

### 接口说明

| **接口描述** | 监控指标列表查询（根据类型获取数据资源） |
| :----------: | ---------------------------------------- |
| **接口方式** | http                                     |
| **接口地址** | /ocp/monitorindex/query                  |
| **请求方式** | POST                                     |
| **请求类型** | param                                    |
| **后台接口** | IFastDataRightService.query(String type) |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| type     | 类型     | 是       | string   |

**参数示例：**

```json
{
    type: 'monitorPermission',
}
```



### 返回值说明

| **参数名称**  | **参数说明** | **数据类型** |
| ------------- | ------------ | ------------ |
| code          | 结果编码     | string       |
| **data**      | **数据**     | **array**    |
| id            | 主键         | string       |
| c_DATA_CODE   | 代码         | string       |
| c_DATA_NAME   | 名称         | string       |
| c_DATA_TYPE   | 类型         | string       |
| c_DATA_CODE_P | 父级代码     | string       |
| auditState    | 审核状态     | string       |
| ass_Port_Type |              | string       |

**返回值示例：**


```json
{
    code: "success",
    data: [
{id:"",c_DATA_CODE:"ACT_JZSYPZSCRQJK",c_DATA_NAME:"结转损益凭证生成日期监控",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"CLEAR_ZQQYTX",c_DATA_NAME:"证券权益流水监控",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"ACT_TDPZJC",c_DATA_NAME:"特定凭证检查",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"STOCK_SSJJHD",c_DATA_NAME:"实收基金核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"STOCK_CWYGZJZHD",c_DATA_NAME:"财务与估值净值核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"STOCK_DEPOSITCHECK",c_DATA_NAME:"估值与支付平台银行存款余额核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"ACT_ZQQYPZHD",c_DATA_NAME:"证券权益凭证核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"CLEAR_JYSJJK",c_DATA_NAME:"估值与O32交易数据核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"CLEAR_JYSJYJK",c_DATA_NAME:"估值与交易所交易数据核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"STOCK_STKPRICECK",c_DATA_NAME:"证券价格核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"STOCK_JYZQCCHD",c_DATA_NAME:"估值与交易持仓核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"QH_BZJYEHD",c_DATA_NAME:"中金所期货保证金余额核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0},
{id:"",c_DATA_CODE:"QH_ZBJYEHD",c_DATA_NAME:"中金所期货准备金余额核对",c_DATA_TYPE:"monitorPermission",c_DATA_CODE_P:null,auditState:0,ass_Port_Type:0}
    ],
    msg: "查询成功！"，
    success: true
}
```





## 根据用户查询岗位信息

### 接口说明

| **接口描述** | 根据用户查询岗位信息                                         |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/userpost/query                                          |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IUserPostRightService.queryUserPosts(List<String> c_USER_CODES) |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型  |
| -------- | -------- | -------- | --------- |
| usercode | 用户代码 | 是       | **array** |

**参数示例：**

```json
[
    {usercode: 'test'},
    {usercode: 'yss'},
    {usercode: 'SYS'}
]
```



### 返回值说明

| **参数名称**       | **参数说明** | **数据类型** |
| ------------------ | ------------ | ------------ |
| code               | 结果编码     | string       |
| **data**           | **数据**     | **array**    |
| id                 | 主键         | string       |
| c_USER_CODE        | 用户代码     | string       |
| c_POST_CODE        | 岗位代码     | string       |
| c_POST_NAME        | 岗位名称     | string       |
| n_IS_AUTHORIZATION | 是否授权     | number       |
| c_USER_NAME        | 用户名称     | string       |

**返回值示例：**


```json
{
    code: "success",
    data: [{id:"12449",modifier:"Test",modifyDate:"20191227 16:48:02",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"YWQNG",c_POST_NAME:"核算主管岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12522",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"YWQNG",c_POST_NAME:"核算主管岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12488",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"YWQNG",c_POST_NAME:"核算主管岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"10722",modifier:"",modifyDate:null,startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20190719 17:30:34",c_USER_CODE:"yss",c_POST_CODE:"YWQNG",c_POST_NAME:"核算主管岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12465",modifier:"Test",modifyDate:"20191227 16:48:02",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"admin",c_POST_NAME:"系统管理员",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12532",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"admin",c_POST_NAME:"系统管理员",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12505",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"admin",c_POST_NAME:"系统管理员",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"10725",modifier:"",modifyDate:null,startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20190719 17:30:34",c_USER_CODE:"yss",c_POST_CODE:"admin",c_POST_NAME:"系统管理员",n_IS_AUTHORIZATION:1,c_USER_NAME:null},
{id:"12448",modifier:"Test",modifyDate:"20191227 16:48:02",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"ZLFHG",c_POST_NAME:"清算复核岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12521",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"ZLFHG",c_POST_NAME:"清算复核岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12487",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"ZLFHG",c_POST_NAME:"清算复核岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"10721",modifier:"",modifyDate:null,startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20190719 17:30:34",c_USER_CODE:"yss",c_POST_CODE:"ZLFHG",c_POST_NAME:"清算复核岗",n_IS_AUTHORIZATION:1,c_USER_NAME:null},
{id:"12450",modifier:"Test",modifyDate:"20191227 16:48:02",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"ZLSPG",c_POST_NAME:"清算审批岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12523",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"ZLSPG",c_POST_NAME:"清算审批岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12490",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"ZLSPG",c_POST_NAME:"清算审批岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"10723",modifier:"",modifyDate:null,startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20190719 17:30:34",c_USER_CODE:"yss",c_POST_CODE:"ZLSPG",c_POST_NAME:"清算审批岗",n_IS_AUTHORIZATION:1,c_USER_NAME:null},
{id:"12446",modifier:"Test",modifyDate:"20191227 16:48:02",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"ZLJBG",c_POST_NAME:"清算经办岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12520",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"ZLJBG",c_POST_NAME:"清算经办岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12485",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"ZLJBG",c_POST_NAME:"清算经办岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"10720",modifier:"",modifyDate:null,startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20190719 17:30:34",c_USER_CODE:"yss",c_POST_CODE:"ZLJBG",c_POST_NAME:"清算经办岗",n_IS_AUTHORIZATION:1,c_USER_NAME:null},
{id:"12482",modifier:"Test",modifyDate:"20200108 10:42:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"YYCXG",c_POST_NAME:"业务查询岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12525",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"YYCXG",c_POST_NAME:"业务查询岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12494",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"YYCXG",c_POST_NAME:"业务查询岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"10842",modifier:"",modifyDate:null,startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20190719 17:30:34",c_USER_CODE:"yss",c_POST_CODE:"YYCXG",c_POST_NAME:"业务查询岗",n_IS_AUTHORIZATION:1,c_USER_NAME:null},
{id:"12461",modifier:"Test",modifyDate:"20191227 16:48:02",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200108 10:44:01",c_USER_CODE:"zhangpei",c_POST_CODE:"YYFHG",c_POST_NAME:"参数审核岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12529",modifier:"Test",modifyDate:"20200210 15:44:14",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"Test",auditDate:"20200820 15:59:30",c_USER_CODE:"Test2",c_POST_CODE:"YYFHG",c_POST_NAME:"参数审核岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null},
{id:"12501",modifier:"yss",modifyDate:"20200108 11:32:21",startUseDate:"2020-11-10 11:08:00",endUseDate:"2020-11-10 11:08:00",auditState:1,operator:"yss",auditDate:"20200108 11:32:35",c_USER_CODE:"Test",c_POST_CODE:"YYFHG",c_POST_NAME:"参数审核岗",n_IS_AUTHORIZATION:0,c_USER_NAME:null}
    ],
    msg: "查询成功！"，
    success: true
}
```

**注意：用户有对应岗位权限才显示复选框(权限分配界面)**



## 根据数据编号查询数据岗位权限

### 接口说明

| **接口描述** | 根据数据编号查询数据岗位权限                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/dataright/query                                         |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IUserPostDataService.queryByDataCode(String c_DATA_CODE, String C_DATA_TYPE) |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| dataCode | 数据代码 | 是       | string   |
| dataType | 数据类型 | 是       | string   |

**参数示例：**

```json
{
    dataCode: 'ACT_JZSYPZSCRQJK',  //结转损益凭证生成日期监控
    dataType: 'monitorPermission'
}
```



### 返回值说明

| **参数名称**    | **参数说明**                      | **数据类型** |
| --------------- | --------------------------------- | ------------ |
| code            | 结果编码                          | string       |
| **data**        | **数据**                          | **array**    |
| id              | 主键                              | string       |
| c_DATA_CODE     | 数据Code                          | string       |
| c_DATA_NAME     | 数据名称                          | string       |
| c_DATA_CODE_P   | 父节点数据代码                    | string       |
| c_DATA_TYPE     | 数据类型                          | number       |
| c_USER_CODE     | 用户代码                          | string       |
| n_SOURCE        | 数据权限来源(0 岗位 1 顶岗)       | string       |
| c_POST_CODE     | 岗位代码                          | string       |
| c_POST_NAME     | 岗位名称                          | string       |
| oPER_TYPE       | 数据权限操作类型  是增加 还是减少 | string       |
| n_SignVal       | 权限符号位 0正权限, 1负权限       | string       |
| replaceId       | 顶岗ID                            | string       |
| postList        | 包含此数据权限的所有岗位          | string       |
| auditedPostList | 已审核的用户数据权限的岗位代码    | string       |
| oldPostList     | 原有的用户数据权限的岗位代码      | string       |

**返回值示例：**


```json
{
    code: "success",
    data: [{id:"285797",modifier:"Test",modifyDate:"20201110 02:17:22",startUseDate:"2020-11-10 15:27:47",endUseDate:"2020-11-10 15:27:47",auditState:1,operator:"Test",auditDate:"20201110 02:17:22",c_DATA_CODE:"ACT_JZSYPZSCRQJK",c_DATA_NAME:"结转损益凭证生成日期监控",c_DATA_CODE_P:null,c_DATA_TYPE:"monitorPermission",c_USER_CODE:"zhangpei",n_SOURCE:0,c_POST_CODE:"YWQNG",c_POST_NAME:null,oPER_TYPE:null,n_SignVal:"0",replaceId:null,postList:[],auditedPostList:[],oldPostList:[]},
{id:"285798",modifier:"Test",modifyDate:"20201110 02:17:22",startUseDate:"2020-11-10 15:27:47",endUseDate:"2020-11-10 15:27:47",auditState:1,operator:"Test",auditDate:"20201110 02:17:22",c_DATA_CODE:"ACT_JZSYPZSCRQJK",c_DATA_NAME:"结转损益凭证生成日期监控",c_DATA_CODE_P:null,c_DATA_TYPE:"monitorPermission",c_USER_CODE:"yss",n_SOURCE:0,c_POST_CODE:"YWQNG",c_POST_NAME:null,oPER_TYPE:null,n_SignVal:"0",replaceId:null,postList:[],auditedPostList:[],oldPostList:[]},
{id:"285799",modifier:"Test",modifyDate:"20201110 02:17:22",startUseDate:"2020-11-10 15:27:47",endUseDate:"2020-11-10 15:27:47",auditState:1,operator:"Test",auditDate:"20201110 02:17:22",c_DATA_CODE:"ACT_JZSYPZSCRQJK",c_DATA_NAME:"结转损益凭证生成日期监控",c_DATA_CODE_P:null,c_DATA_TYPE:"monitorPermission",c_USER_CODE:"Test2",n_SOURCE:0,c_POST_CODE:"YWQNG",c_POST_NAME:null,oPER_TYPE:null,n_SignVal:"0",replaceId:null,postList:[],auditedPostList:[],oldPostList:[]},
{id:"285800",modifier:"Test",modifyDate:"20201110 02:17:22",startUseDate:"2020-11-10 15:27:47",endUseDate:"2020-11-10 15:27:47",auditState:1,operator:"Test",auditDate:"20201110 02:17:22",c_DATA_CODE:"ACT_JZSYPZSCRQJK",c_DATA_NAME:"结转损益凭证生成日期监控",c_DATA_CODE_P:null,c_DATA_TYPE:"monitorPermission",c_USER_CODE:"Test",n_SOURCE:0,c_POST_CODE:"YWQNG",c_POST_NAME:null,oPER_TYPE:null,n_SignVal:"0",replaceId:null,postList:[],auditedPostList:[],oldPostList:[]}
    ],
    msg: "查询成功！"，
    success: true
}
```

**注意：能查询出以上数据，则界面复选框勾选(权限分配的浏览界面)**



## 保存数据权限

### 接口说明

| **接口描述** | 保存数据权限                                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/dataright/save                                          |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IUserPostDataService.updateDataRightsBatch(List<UserPostDataWrapper> userPostDataWrapperList) |

### 请求参数

| 参数名称             | 参数说明                       | 是否必填 | 数据类型  |
| -------------------- | ------------------------------ | -------- | --------- |
| dataType             | 数据代码                       | 是       | string    |
| dataCode             | 数据名称                       | 是       | string    |
| **userPostDataList** | **用户岗位数据权限列表**       | 是       | **array** |
| c_DATA_CODE          | 数据代码                       | 是       | string    |
| c_DATA_NAME          | 数据名称                       | 是       | string    |
| c_DATA_CODE_P        | 父节点数据代码                 | 否       | string    |
| c_DATA_TYPE          | 数据类型                       | 是       | string    |
| c_USER_CODE          | 用户代码                       | 是       | string    |
| c_POST_CODE          | 岗位代码                       | 是       | string    |
| c_POST_NAME          | 岗位名称                       | 否       | string    |
| postList             | 包含此数据权限的所有岗位       | 否       | string    |
| auditedPostList      | 已审核的用户数据权限的岗位代码 | 否       | string    |
| oldPostList          | 原有的用户数据权限的岗位代码   | 否       | string    |
| n_SOURCE             | 数据权限来源(0 岗位 1 顶岗)    | 否       | string    |
| postCodes            | 岗位数组                       | 是       | **array** |

**参数示例：**

```json
{"dataType":"monitorPermission","dataCode":"ACT_JZSYPZSCRQJK",
"userPostDataList":[
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"zhangpei","c_POST_CODE":"YWQNG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"zhangpei","c_POST_CODE":"admin","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"zhangpei","c_POST_CODE":"ZLFHG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"zhangpei","c_POST_CODE":"ZLSPG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"zhangpei","c_POST_CODE":"ZLJBG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"zhangpei","c_POST_CODE":"YYCXG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"yss","c_POST_CODE":"YWQNG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"Test2","c_POST_CODE":"YWQNG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""},
{"c_DATA_CODE":"ACT_JZSYPZSCRQJK","c_DATA_NAME":"结转损益凭证生成日期监控","c_DATA_CODE_P":null,"c_DATA_TYPE":"monitorPermission","c_USER_CODE":"Test","c_POST_CODE":"YWQNG","c_POST_NAME":null,"postList":[],"auditedPostList":[],"oldPostList":[],"n_SOURCE":0,"auditState":1,"operator":"Test","auditDate":"20201110 02:05:54","modifier":"Test","modifyDate":"20201110 02:05:54","id":""}],
"postCodes":["YWQNG","admin","ZLFHG","ZLSPG","ZLJBG","YYCXG","YYFHG","YWJBG","QSZGG","JYQRY","SJWHG","XGJYY","SJGLG","XGZY","JCB","XZJYY","CKJYY","JJJYY","admin_cwjy","RBSMZQSHG","RBSMZQCXG","SYSMGR","SJWHG111"],"id":""}], 
```



### 返回值说明

| **参数名称**    | **参数说明**                      | **数据类型** |
| --------------- | --------------------------------- | ------------ |
| code            | 结果编码                          | string       |
| **data**        | **数据**                          | **array**    |
| id              | 主键                              | string       |
| c_DATA_CODE     | 数据Code                          | string       |
| c_DATA_NAME     | 数据名称                          | string       |
| c_DATA_CODE_P   | 父节点数据代码                    | string       |
| c_DATA_TYPE     | 数据类型                          | number       |
| c_USER_CODE     | 用户代码                          | string       |
| n_SOURCE        | 数据权限来源(0 岗位 1 顶岗)       |              |
| c_POST_CODE     | 岗位代码                          |              |
| c_POST_NAME     | 岗位名称                          |              |
| oPER_TYPE       | 数据权限操作类型  是增加 还是减少 |              |
| n_SignVal       | 权限符号位 0正权限, 1负权限       |              |
| replaceId       | 顶岗ID                            |              |
| postList        | 包含此数据权限的所有岗位          |              |
| auditedPostList | 已审核的用户数据权限的岗位代码    |              |
| oldPostList     | 已审核的用户数据权限的岗位代码    |              |

**返回值示例：**


```json
{
    code: "success",
    msg: "查询成功！"，
    success: true
}
```

**注意：保存数据权限(权限分配的设置界面)**





## 数据权限查询

### 接口说明

| **接口描述** | 数据权限查询         |
| :----------: | -------------------- |
| **接口方式** | http                 |
| **接口地址** | /ocp/dataright/query |
| **请求方式** | POST                 |
| **请求类型** | param                |
| **后台接口** |                      |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| dataCode | 数据代码 | 是       | string   |
| dataType | 数据类型 | 是       | string   |

**参数示例：**

```json
{
    dataCode: 'ACT_JZSYPZSCRQJK',  //结转损益凭证生成日期监控
    dataType: 'monitorPermission'
}
```



### 返回值说明

| **参数名称**      | **参数说明**                           | **数据类型** |
| ----------------- | -------------------------------------- | ------------ |
| code              | 结果编码                               | string       |
| **data**          | **数据**                               | **array**    |
| **datas**         | **选择的指标数据**                     | **array**    |
| c_DATA_CODE       | 数据代码                               | string       |
| c_DATA_NAME       | 数据名称                               | string       |
| c_DATA_TYPE       | 数据类型                               | string       |
| c_DATA_CODE_P     | 父节点数据代码                         | string       |
| **allPosts**      | **所有岗位**                           | **array**    |
| c_POST_CODE       | 岗位代码                               | string       |
| c_POST_NAME       | 岗位名称                               | string       |
| **rights**        | **权限数据**                           | **array**    |
| c_CORP_ORG_CODE   | 机构代码(如果类型是用户，则是用户代码) | string       |
| c_CORP_ORG_NAME   | 机构名称                               | string       |
| c_CORP_ORG_CODE_P | 父级机构代码                           | string       |
| c_AUTH_ORG_CODE   | 权限机构代码                           | string       |
| c_DATA_TYPE       | 数据类型(ORG-机构/USER-用户)           | string       |
| c_DESC            | 备注                                   | string       |
| **posts**         | **岗位是否选中数据**                   | **array**    |
| c_POST_CODE       | 岗位代码                               | string       |
| isChecked         | 是否选中(是否有权限)                   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: {
        datas:[  //选择的指标数据
            {
                c_DATA_CODE:"ACT_JZSYPZSCRQJK",
                c_DATA_NAME:"结转损益凭证生成日期监控",
                c_DATA_TYPE:"monitorPermission",
                c_DATA_CODE_P:null
            },
        ]
        allPosts:[    //所有岗位代码和岗位名称
        	{
                c_POST_CODE: “yss”,
                c_POST_NAME: "yss",
            },
    		{
                c_POST_CODE: “admin”,
                c_POST_NAME: “系统管理员”,
            },
        ]
        rights: [  //用户岗位权限
            {
                c_CORP_ORG_CODE: "GZ",
                c_CORP_ORG_NAME: "估值",
                c_CORP_ORG_CODE_P: "[root]",
                c_AUTH_ORG_CODE: "[root]",
                c_DESC: "",
                c_DATA_TYPE: "ORG",
        		posts: null,    //表示机构没有岗位，所有的单元格不出现checkbox
            },
            {
                c_CORP_ORG_CODE:"ywry",
                c_CORP_ORG_NAME:"业务人员",
                c_CORP_ORG_CODE_P:"[root]",
                c_AUTH_ORG_CODE:"[root]",
                c_DESC:" ",
                c_DATA_TYPE:"ORG",
                posts:[
        			{
        				c_POST_CODE: admin,
        				isChecked: true,   //单元格显示checkbox并选中
    				},
    				{
    					c_POST_CODE: SYS,
        				isChecked: false,  //单元格显示checkbox，不不选中
					}.
        		]
            },
            {
                c_CORP_ORG_CODE:"shangeh",
                c_CORP_ORG_NAME:"尚尔航",
                c_CORP_ORG_CODE_P:"ywry",
                c_AUTH_ORG_CODE:"[root]",
                c_DESC:" ",
                c_DATA_TYPE:"USER",
                posts:[
        			{
        				c_POST_CODE: admin,
        				isChecked: true,
    				},
    				{
    					c_POST_CODE: Test,
        				isChecked: true,
					}.
        		]
            },
        ],
    }
    msg: "查询成功！"，
    success: true
}
```

备注:  机构是叶子节点，则不会出现checkbox。机构下有用户，则该机构相应的岗位都出现checkbox，是为了勾选子节点方便。

# 管控指标关联配置

## 组合信息查询

### 接口说明

| **接口描述** | 指标模式查询                                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/portinfo/query                                          |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | com.yss.ams.product.information.support.modules.ab.port.service.IPortDataService.doPortFilterRes(String isDataRight, String datClass,String dvPortCode, String trcode, List<String> dataRights) |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| trcode   | 产品类型 | 否       | string   |
|          |          |          |          |

**参数示例：**

```json
{
    trcode:ZCTG,   //注意如果查询的是"资产类型"，则不需要此条件。如果是查询其他的，则需要，例如查询 “资产类型-托管行”
}
```



### 返回值说明

| **参数名称**   | **参数说明**   | **数据类型** |
| -------------- | -------------- | ------------ |
| id | id | string |
| modifier      | 制作人           | string       |
| modifyDate    | 制作时间         | string       |
| startUseDate  | 开始使用时间     | string       |
| endUseDate    | 结束使用时间     | string       |
| auditState    | 审核状态         | string       |
| operator      | 审核人           | string       |
| auditDate     | 审核时间         | string       |
| c_PORT_CODE    | 组合代码       | string       |
| c_PORT_NAME    | 组合名称       | string       |
| c_PORT_NAME_ST | 组合简称       | string       |
| c_PORT_CODE_P  | 父节点组合代码 | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [{
        id: "",
        modifier: "",
        modifyDate: null,
        startUseDate: "2020-12-15 10:02:12",
        endUseDate: "2020-12-15 10:02:12",
        auditState: 1,
        operator: "",
        auditDate: null,
        c_ASSETS_CODE: "",
        c_PORT_CODE: "ASS_RQFII",
        c_PORT_NAME: "",
        c_PORT_NAME_ST: "RQFII证券基金",
        c_PORT_NAME_EN: "",
        c_ASS_CODE: "",
        c_DAT_CODE: "ASS_RQFII",
        c_DC_CODE: "",
        d_BUILD: "1999-12-14",
        d_CLOSE: "1999-12-14",
        d_CLEAR: "9998-12-31 00:00:00",
        d_COLSE_ACC: null,
        c_DESC: "",
        c_DV_PORT_CODE: "",
        c_PORT_CODE_P: "[root]",
        c_HDAY_CODE: "",
        c_DAT_CLS: "RQFII证券基金",
        c_DV_PROD_STATE: "",
        c_PORT_UNIT: "",
        dATA_TYPE: "ASS_TYPE",
        c_LASTDQDATE: "",
        d_RECORD: "",
        c_KH_NATURE: ""
        isLeaf: false,
        children:[{
            id: "3062",
            modifier: "ht",
            modifyDate: "20171019 15:56:31",
            startUseDate: "2020-12-15 09:55:54",
            endUseDate: "2020-12-15 09:55:54",
            auditState: 1,
            operator: "",
            auditDate: null,
            c_ASSETS_CODE: "",
            c_PORT_CODE: "CHDBDF",
            c_PORT_NAME: "中港策略",
            c_PORT_NAME_ST: "中港策略",
            c_PORT_NAME_EN: "",
            c_ASS_CODE: "888887",
            c_DAT_CODE: "CHDBDF",
            c_DC_CODE: "HKD",
            d_BUILD: "2012-11-19",
            d_CLOSE: "9998-12-31",
            d_CLEAR: "9998-12-31 00:00:00",
            d_COLSE_ACC: null,
            c_DESC: ",",
            c_DV_PORT_CODE: "PORT_LAYER ",
            c_PORT_CODE_P: "ASS_RQFII ",
            c_HDAY_CODE: "CN ",
            c_DAT_CLS: "CLS_PT ",
            c_DV_PROD_STATE: "PS4 ",
            c_PORT_UNIT: "",
            dATA_TYPE: "PORT_TYPE ",
            c_LASTDQDATE: "",
            d_RECORD: "",
            c_KH_NATURE: "",
        	isLeaf: true,
        }]
    }],
    msg: "查询成功！"，
    success: true
}
```



## 组合模式查询

### 接口说明

| **接口描述** | 组合模式查询                                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/indexrela/portmode/query                                |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IMonitorIndexRelaService.queryPortModeData(HashMap<String, Object> paraMap, HashMap<String, String> dictIndexMap, List<PortCachePojo> cacheAllPortList) |

### 请求参数

| 参数名称         | 参数说明         | 是否必填 | 数据类型 |
| ---------------- | ---------------- | -------- | -------- |
| PortMode         | 组合模式         | 是       | string   |
| ARRAY_INDEX_CODE | 指标代码（多个） | 是       | string   |
| C_BIND_STATE     | 绑定状态         | 是       | string   |
| N_CHECK_STATE    | 审核状态         | 是       | string   |
| ARRAY_PORT_CODE  | 组合代码（多个） | 是       | string   |


**参数示例：**

```json
{
    PortMode:"PortMode", 
    ARRAY_INDEX_CODE:"ACT_JZSYPZSCRQJK", 
    C_BIND_STATE:"ocp_handBind,ocp_autoBind", 
    N_CHECK_STATE:"SearchAll", 
    ARRAY_PORT_CODE:"002308,167501"
}
```



### 返回值说明

| **参数名称**      | **参数说明**   | **数据类型** |
| ----------------- | -------------- | ------------ |
| id | id | string |
| modifier      | 制作人           | string       |
| modifyDate    | 制作时间         | string       |
| startUseDate  | 开始使用时间     | string       |
| endUseDate    | 结束使用时间     | string       |
| auditState    | 审核状态         | string       |
| operator      | 审核人           | string       |
| auditDate     | 审核时间         | string       |
| portCode          | 组合代码       | string       |
| portName          | 组合名称       | string       |
| indexCode         | 指标代码       | string       |
| indexName         | 指标名称       | string       |
| indexParam        | 指标参数       | string       |
| mInfoDisplayModes | 提醒方式       | string       |
| paramStyle        | 参数类型       | string       |
| portCls           | 分级组合代码   | string       |
| indexGroup        | 自定义群组     | string       |
| portClsName       | 分级组合名称   | string       |
| indexGroupName    | 自定义群组名称 | string       |
| indexParams       | 指标参数       | string       |
| planCode          | 指标方案代码   | string       |
| planName          | 指标方案名称   | string       |
| paramValList      | 指标参数列表   | string       |
| relaCode          | 关联代码       | string       |
| relaName          | 关联名称       | string       |
| bindState         | 绑定状态       | string       |
| relaType          | 关联类型(模式) | string       |
| remark            | 备注           | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
	code: "success",
	data: {
		list: [{
			id: "",
			modifier: "",
			modifyDate: null,
			startUseDate: "2020-12-10 14:57:36",
			endUseDate: "2020-12-10 14:57:36",
			auditState: 0,
			operator: "",
			auditDate: null,
			portCode: "0001",
			portName: "0001",
			indexCode: null,
			indexName: null,
			indexParam: null,
			mInfoDisplayModes: null,
			paramStyle: null,
			portCls: null,
			indexGroup: null,
			portClsName: null,
			indexGroupName: null,
			indexParams: null,
			planCode: null,
			planName: null,
			paramValList: null,
			relaCode: null,
			relaName: null,
			bindState: null,
			relaType: null,
			remark: "[0001]0001(自动绑定 7 个,人工绑定 1 个,人工解绑 0 个,未绑定 3 个)",
			isLeaf: false,
            children[{
				id: "",
				modifier: "ht",
				modifyDate: "20201210 10:28:05",
				startUseDate: "2020-12-10 14:57:37",
				endUseDate: "2020-12-10 14:57:37",
				auditState: 1,
				operator: "ht",
				auditDate: "20201210 10:28:14",
				portCode: "0001",
				portName: "0001",
				indexCode: "80002_TEST_WARN",
				indexName: "80002_TEST_WARN",
				indexParam: null,
				mInfoDisplayModes: null,
				paramStyle: null,
				portCls: null,
				indexGroup: null,
				portClsName: null,
				indexGroupName: null,
				indexParams: null,
				planCode: null,
				planName: null,
				paramValList: null,
				relaCode: "CLS_ZS",
				relaName: "指数型",
				bindState: "ocp_autoBind",
				relaType: "ocp_datRela",
				remark: null,
            	isLeaf: true
			}]
		}, 
    	{
			id: "",
			modifier: "",
			modifyDate: null,
			startUseDate: "2020-12-10 14:57:37",
			endUseDate: "2020-12-10 14:57:37",
			auditState: 0,
			operator: "",
			auditDate: null,
			portCode: "092901",
			portName: "092901",
			indexCode: null,
			indexName: null,
			indexParam: null,
			mInfoDisplayModes: null,
			paramStyle: null,
			portCls: null,
			indexGroup: null,
			portClsName: null,
			indexGroupName: null,
			indexParams: null,
			planCode: null,
			planName: null,
			paramValList: null,
			relaCode: null,
			relaName: null,
			bindState: null,
			relaType: null,
			remark: "[092901]092901(自动绑定 8 个,人工绑定 0 个,人工解绑 1 个,未绑定 2 个)",
			children[{
				id: "",
				modifier: "ht",
				modifyDate: "20201210 10:28:05",
				startUseDate: "2020-12-10 14:57:37",
				endUseDate: "2020-12-10 14:57:37",
				auditState: 1,
				operator: "ht",
				auditDate: "20201210 10:28:14",
				portCode: "092901",
				portName: "092901",
				indexCode: "80002_TEST_WARN",
				indexName: "80002_TEST_WARN",
				indexParam: null,
				mInfoDisplayModes: null,
				paramStyle: null,
				portCls: null,
				indexGroup: null,
				portClsName: null,
				indexGroupName: null,
				indexParams: null,
				planCode: null,
				planName: null,
				paramValList: null,
				relaCode: "CLS_PT",
				relaName: "普通型",
				bindState: "ocp_autoBind",
				relaType: "ocp_datRela",
				remark: null
			}]
		}]
	},
	total: 100,
	msg: "查询成功！"，
	success: true
}
```





## 指标信息查询

### 接口说明

| **接口描述** | 指标模式查询                                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/indexinfo/query                                         |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IMonitorIndexConfigService.queryByCondition(HashMap<String, Object> paraMap) |

### 请求参数

| 参数名称   | 参数说明 | 是否必填 | 数据类型 |
| ---------- | -------- | -------- | -------- |
| dataClass  | 类       | **是**   | string   |
| searchType | 查询类型 | 是       | string   |

**参数示例：**

```json
{"dataClass":"MonitorIndex","searchType":"INDEX_TYPE"}
```



### 返回值说明

| **参数名称**      | **参数说明**                          | **数据类型** |
| ----------------- | ------------------------------------- | ------------ |
| id | id | string |
| modifier      | 制作人           | string       |
| modifyDate    | 制作时间         | string       |
| startUseDate  | 开始使用时间     | string       |
| endUseDate    | 结束使用时间     | string       |
| auditState    | 审核状态         | string       |
| operator      | 审核人           | string       |
| auditDate     | 审核时间         | string       |
| indexCode         | 指标代码                              | string       |
| indexName         | 指标名称                              | string       |
| indexCode         | 指标代码                              | string       |
| typeCode          | 指标类型code (这个字段确定父节点code) | string       |
| indexParam        | 指标参数                              | string       |
| mInfoDisplayModes | 提醒方式                              | string       |
| paramStyle        | 参数类型                              | string       |
| portCls           | 分级组合代码                          | string       |
| indexGroup        | 自定义群组                            | string       |
| portClsName       | 分级组合名称                          | string       |
| indexGroupName    | 自定义群组名称                        | string       |
| indexParams       | 指标参数                              | string       |
| planCode          | 指标方案代码                          | string       |
| planName          | 指标方案名称                          | string       |
| paramValList      | 指标参数列表                          | string       |
| relaCode          | 关联代码                              | string       |
| relaName          | 关联名称                              | string       |
| bindState         | 绑定状态                              | string       |
| relaType          | 关联类型                              | string       |
| remark            | 备注                                  | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [{
        id: "2",
        modifier: "",
        modifyDate: null,
        startUseDate: "2020-11-12 16:28:21",
        endUseDate: "2020-11-12 16:28:21",
        auditState: 1,
        operator: "",
        auditDate: null,
        indexCode: "default",
        indexName: "未分类指标",
        entranceClass: null,
        entranceContext: null,
        indexOrder: 0,
        indexType: null,
        indexParams: null,
        existParams: 0,
        indexDesc: null,
        isPublic: null,
        mergeType: null,
        indexKey: null,
        fileName: null,
        state: null,
        confirm: null,
        typeCode: "[root]",
        indexAlias: null,
        paramValue: null,
        datCode: null,
        datCls: null,
        deployBy: null,
        deployTime: null,
        executeFunCodes: null,
        executeBizCodes: null,
        executeBizCodesDb: null,
        version: null,
        paramConfigList: null,
        installState: null,
        thirdDataType: null,
        cfgCode: null,
        productLine: null,
        detailDescList: null,
        sortColumns: null,
        paramExtendList: null,
        devMode: null,
        riskLevel: null,
        indexLevel: null,
        indexParent: null,
        portLevel: null,
        remark: null,
        isLeaf: true,
        children:[],
    }, {
        id: "301",
        modifier: "",
        modifyDate: null,
        startUseDate: "2020-11-12 16:28:21",
        endUseDate: "2020-11-12 16:28:21",
        auditState: 1,
        operator: "",
        auditDate: null,
        indexCode: "ACT_JZSYPZSCRQJK",
        indexName: "结转损益凭证生成日期监控",
        entranceClass: null,
        entranceContext: null,
        indexOrder: 0,
        indexType: "资产估值核算",
        indexParams: null,
        existParams: 0,
        indexDesc: "检查结转损益凭证的实际生成日期是否与其应该生成日期一致，若不一致，提醒相关人员.",
        isPublic: "0",
        mergeType: null,
        indexKey: null,
        fileName: null,
        state: null,
        confirm: "Warning",
        typeCode: "default",
        indexAlias: null,
        paramValue: null,
        datCode: null,
        datCls: null,
        deployBy: null,
        deployTime: null,
        executeFunCodes: null,
        executeBizCodes: null,
        executeBizCodesDb: null,
        version: null,
        paramConfigList: null,
        installState: null,
        thirdDataType: null,
        cfgCode: null,
        productLine: null,
        detailDescList: null,
        sortColumns: null,
        paramExtendList: null,
        devMode: null,
        riskLevel: null,
        indexLevel: null,
        indexParent: null,
        portLevel: null,
        remark: null,
        isLeaf: true,
        children:[],
	}]
    msg: "查询成功！"，
    success: true
}
```



## 指标模式查询

### 接口说明

| **接口描 述   ** | 指标模式查询                                                 |
| :--------------: | ------------------------------------------------------------ |
|   **接口方式**   | http                                                         |
|   **接口地址**   | /ocp/indexrela/indexmode/query                               |
|   **请求方式**   | POST                                                         |
|   **请求类型**   | param                                                        |
|   **后台接口**   | IMonitorIndexRelaService.queryIndexModeData(HashMap<String, Object> paraMap, HashMap<String, String> dictIndexMap, List<PortCachePojo> cacheAllPortList) |

### 请求参数

| 参数名称         | 参数说明         | 是否必填 | 数据类型 |
| ---------------- | ---------------- | -------- | -------- |
| IndexMode        | 指标模式         | 是       | string   |
| ARRAY_INDEX_CODE | 指标代码（多个） | 是       | string   |
| C_BIND_STATE     | 绑定状态         | 是       | string   |
| N_CHECK_STATE    | 审核状态         | 是       | string   |
| ARRAY_PORT_CODE  | 组合代码（多个） | 是       | string   |

**参数示例：**

```json
{
    IndexMode:"IndexMode", 
    ARRAY_INDEX_CODE:"ACT_JZSYPZSCRQJK", 
    C_BIND_STATE:"ocp_handBind,ocp_autoBind", 
    N_CHECK_STATE:"SearchAll", 
    ARRAY_PORT_CODE:"002308,167501" 
}
```



### 返回值说明

| **参数名称**      | **参数说明**   | **数据类型** |
| ----------------- | -------------- | ------------ |
| id | id | string |
| modifier      | 制作人           | string       |
| modifyDate    | 制作时间         | string       |
| startUseDate  | 开始使用时间     | string       |
| endUseDate    | 结束使用时间     | string       |
| auditState    | 审核状态         | string       |
| operator      | 审核人           | string       |
| auditDate     | 审核时间         | string       |
| portCode          | 组合代码       | string       |
| portName          | 组合名称       | string       |
| indexCode         | 指标代码       | string       |
| indexName         | 指标名称       | string       |
| indexParam        | 指标参数       | string       |
| mInfoDisplayModes | 提醒方式       | string       |
| paramStyle        | 参数类型       | string       |
| portCls           | 分级组合代码   | string       |
| indexGroup        | 自定义群组     | string       |
| portClsName       | 分级组合名称   | string       |
| indexGroupName    | 自定义群组名称 | string       |
| indexParams       | 指标参数       | string       |
| planCode          | 指标方案代码   | string       |
| planName          | 指标方案名称   | string       |
| paramValList      | 指标参数列表   | string       |
| relaCode          | 关联代码       | string       |
| relaName          | 关联名称       | string       |
| bindState         | 绑定状态       | string       |
| relaType          | 关联类型       | string       |
| remark            | 备注           | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
            id: "",
            modifier: "",
            modifyDate: null,
            startUseDate: "2020-12-10 17:17:08",
            endUseDate: "2020-12-10 17:17:08",
            auditState: 0,
            operator: "",
            auditDate: null,
            portCode: null,
            portName: null,
            indexCode: "ACT_ETFTZGLQSXXWZXJC",
            indexName: "ETF台账关联券商信息完成性检查",
            indexParam: null,
            mInfoDisplayModes: null,
            paramStyle: null,
            portCls: null,
            indexGroup: null,
            portClsName: null,
            indexGroupName: null,
            indexParams: null,
            planCode: null,
            planName: null,
            paramValList: null,
            relaCode: null,
            relaName: null,
            bindState: null,
            relaType: null,
			remark: "[ACT_ETFTZGLQSXXWZXJC]ETF台账关联券商信息完成性检查(自动绑定 1790 个,人工绑定 0 个,人工解绑 0 个,未绑定 24 个)",
            isLeaf:false,
            children:[{
                id: "",
                modifier: "ht",
                modifyDate: "20201127 13:28:16",
                startUseDate: "2020-12-10 17:17:08",
                endUseDate: "2020-12-10 17:17:08",
                auditState: 1,
                operator: "ht",
                auditDate: "20201127 13:28:16",
                portCode: "121211",
                portName: "121211",
                indexCode: "ACT_ETFTZGLQSXXWZXJC",
                indexName: "ETF台账关联券商信息完成性检查",
                indexParam: null,
                mInfoDisplayModes: null,
                paramStyle: null,
                portCls: null,
                indexGroup: null,
                portClsName: null,
                indexGroupName: null,
                indexParams: null,
                planCode: null,
                planName: null,
                paramValList: null,
                relaCode: "CLS_PT",
                relaName: "普通型",
                bindState: "ocp_autoBind",
                relaType: "ocp_datRela",
                remark: null,
                isLeaf: true
        	}],
		},
	],
    total:100,
    msg: "查询成功！"，
    success: true
}
```



## 关联信息查询

### 接口说明

| **接口描述** | 指标模式查询                                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/relainfo/query                                          |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IOcpRelaModeAreaAService.getRelaModeAreaA(HashMap<String, Object> paraMap |

### 请求参数

| 参数名称   | 参数说明        | 是否必填 | 数据类型 |
| ---------- | --------------- | -------- | -------- |
| dataClass  | 返回数据的class | **是**   | string   |
| SearchType | 查询类型        | **是**   | string   |

**参数示例：**

```json
{
    dataClass:"OcpRelaModeAreaA",
 	SearchType:"ALL"
}
```



### 返回值说明

| **参数名称** | **参数说明**     | **数据类型** |
| ------------ | ---------------- | ------------ |
| id | id | string |
| relaCode     | 关联代码         | string       |
| relaName     | 关联名称         | string       |
| relaCodeP    | 父级节点关联代码 | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
	code: "success",
	data: [{
		id: "",
		relaCode: "ocp_datRela",
		relaName: "资产类别",
		relaCodeP: "[root]"
		isLeaf: false,
		children: [{
				id: "",
				relaCode: "CLS_PT",
				relaName: "普通型",
				relaCodeP: "ocp_datRela",
				isLeaf: true,
				children: []
			},
			{
				id: "",
				relaCode: "CLS_HB",
				relaName: "货币型",
				relaCodeP: "ocp_datRela",
				isLeaf: true,
				children: []
			},
			{
				id: "",
				relaCode: "CLS_ETF",
				relaName: "ETF型",
				relaCodeP: "ocp_datRela",
				isLeaf: true,
				children: []
			},
			{
				id: "",
				relaCode: "CLS_LJ",
				relaName: "联接型",
				relaCodeP: "ocp_datRela",
				isLeaf: true,
				children: []
			},
		]
	}, ]
	msg: "查询成功！"，
	success: true
}
```



## 关联模式查询

### 接口说明

| **接口描述** | 关联模式查询                                                 |
| :----------: | ------------------------------------------------------------ |
| **接口方式     ** | http                                                         |
| **接口地址** | /ocp/indexrela/relamode/query                                |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IMonitorIndexRelaService.queryRelaModeData(HashMap<String, Object> paraMap, HashMap<String, String> dictMap) |

### 请求参数

| 参数名称             | 参数说明         | 是否必填 | 数据类型 |
| -------------------- | ---------------- | -------- | -------- |
| ARRAY_RELA_CODE      | 关联代码         | 是       | string   |
| ARRAY_INDEX_CODE     | 指标代码         | 是       | string   |
| N_CHECK_STATE        | 审核状态         | 是       | string   |
| ARRAY_INDEX_CODE_ALL | 指标代码(所有)   | 是       | string   |
| RelateMode           | 关联模式         | 是       | string   |

**参数示例：**

```json
{
    ARRAY_RELA_CODE:"CLS_ETF,CLS_HB", 
    ARRAY_INDEX_CODE:"ACT_JZSYPZSCRQJK", 
    N_CHECK_STATE:"SearchAll", 
    ARRAY_INDEX_CODE_ALL:"ACT_JZSYPZSCRQJK", 
    RelateMode:"RelateMode", 
}
```



### 返回值说明

| **参数名称**      | **参数说明**   | **数据类型** |
| ----------------- | -------------- | ------------ |
| id | id | string |
| modifier      | 制作人           | string       |
| modifyDate    | 制作时间         | string       |
| startUseDate  | 开始使用时间     | string       |
| endUseDate    | 结束使用时间     | string       |
| auditState    | 审核状态         | string       |
| operator      | 审核人           | string       |
| auditDate     | 审核时间         | string       |
| portCode          | 组合代码       | string       |
| portName          | 组合名称       | string       |
| indexCode         | 指标代码       | string       |
| indexName         | 指标名称       | string       |
| indexParam        | 指标参数       | string       |
| mInfoDisplayModes | 提醒方式       | string       |
| paramStyle        | 参数类型       | string       |
| portCls           | 分级组合代码   | string       |
| indexGroup        | 自定义群组     | string       |
| portClsName       | 分级组合名称   | string       |
| indexGroupName    | 自定义群组名称 | string       |
| indexParams       | 指标参数       | string       |
| planCode          | 指标方案代码   | string       |
| planName          | 指标方案名称   | string       |
| paramValList      | 指标参数列表   | string       |
| relaCode          | 关联代码       | string       |
| relaName          | 关联名称       | string       |
| bindState         | 绑定状态       | string       |
| relaType          | 关联类型       | string       |
| remark            | 备注           | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
            id: "",
            modifier: "",
            modifyDate: null,
            startUseDate: "2020-12-10 17:31:52",
            endUseDate: "2020-12-10 17:31:52",
            auditState: 0,
            operator: "",
            auditDate: null,
            portCode: null,
            portName: null,
            indexCode: null,
            indexName: null,
            indexParam: null,
            mInfoDisplayModes: null,
            paramStyle: null,
            portCls: null,
            indexGroup: null,
            portClsName: null,
            indexGroupName: null,
            indexParams: null,
            planCode: null,
            planName: null,
            paramValList: null,
            relaCode: "CLS_ETF",
            relaName: "ETF型",
            bindState: null,
            relaType: null,
            remark: "8",
            isLeaf: false,
            children:[{
                id: "7666",
                modifier: "ht",
                modifyDate: "20201127 13:27:49",
                startUseDate: "2020-12-10 17:31:53",
                endUseDate: "2020-12-10 17:31:53",
                auditState: 1,
                operator: "ht",
                auditDate: "20201127 11:43:21",
                portCode: null,
                portName: null,
                indexCode: "STOCK_ZQSPYWJK",
                indexName: "证券送配权益业务监控",
                indexParam: null,
                mInfoDisplayModes: null,
                paramStyle: null,
                portCls: null,
                indexGroup: null,
                portClsName: null,
                indexGroupName: null,
                indexParams: null,
                planCode: null,
                planName: null,
                paramValList: null,
                relaCode: "CLS_ETF",
                relaName: "ETF型",
                bindState: null,
                relaType: "ocp_datRela",
                remark: null,
                isLeaf: true
            }],
    	},
    ]
    msg: "查询成功！"，
    success: true
}
```



## 产品结构查询

### 接口说明

|   **接口描述**    | 产品结构查询                      |
| :---------------: | --------------------------------- |
| **接口方式     ** | http                              |
|   **接口地址**    | /ocp/assettype/query              |
|   **请求方式**    | POST                              |
|   **请求类型**    | param                             |
|   **后台接口**    | IPortCustomService.getAssetType() |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| 无       |          |          |          |

**参数示例：**

```json
{
}
```



### 返回值说明

| **参数名称** | **参数说明**                            | **数据类型** |
| ------------ | --------------------------------------- | ------------ |
| data         | 产品类型代码-产品类型名称(ASS-资产类型) | array        |

**返回值示例：**


```json
{
    code: "success",
    data: ["ASS-资产类型","ZCTG-资产类型-托管行","TGZC-托管行-资产类型","test1-资产结构测试1","test-测试","es7swz7-南郊","000qwewq-000qwewq","zsm-zsm","20191112-20191112","test3-资产结构测试3","016-016","ceshizsh-测试周","A1-A1"],
    msg: "查询成功！"，
    success: true
}
```





# 管控自定义分类

## 自定义分类查询

### 接口说明

| **接口描述** | 自定义分类查询                                               |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/customclass/query                                       |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | CustomClassifyService.getCustomClassifyA(HashMap<String, Object> paraMap) |

### 请求参数

| 参数名称 | 参数说明 | 是否必填 | 数据类型 |
| -------- | -------- | -------- | -------- |
| 无       |          |          |          |

**参数示例：**

```json
{
    
}
```



### 返回值说明

| **参数名称** | **参数说明** | **数据类型** |
| ------------ | ------------ | ------------ |
| id             | id           | string       |
| modifier       | 制作人       | string       |
| modifyDate     | 制作时间     | string       |
| startUseDate   | 开始使用时间 | string       |
| endUseDate     | 结束使用时间 | string       |
| auditState     | 审核状态     | string       |
| operator       | 审核人       | string       |
| auditDate      | 审核时间     | string       |
| c_GROUP_CODE | 分类代码     | string       |
| c_GROUP_NAME | 分类名称     | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
            id: "1",
            modifier: "",
            modifyDate: null,
            startUseDate: "2020-11-30 15:28:33",
            endUseDate: "2020-11-30 15:28:33",
            auditState: 0,
            operator: "",
            auditDate: null,
            c_GROUP_CODE: "2",
            c_GROUP_NAME: "2"
		},
        {
            id: "2",
            modifier: "",
            modifyDate: null,
            startUseDate: "2020-11-30 15:28:33",
            endUseDate: "2020-11-30 15:28:33",
            auditState: 1,
            operator: "",
            auditDate: null,
            c_GROUP_CODE: null,
            c_GROUP_NAME: "未分类产品"
        }
    ]
    msg: "查询成功！"，
    success: true
}
```



## 自定义分类组合管理查询

### 接口说明

| **接口描述** | 自定义分类组合管理查询                                       |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/customclass/port/query                                  |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | ICustomGroupRelaDataService.queryByCondition(HashMap<String, Object> paraMap) |

### 请求参数

| 参数名称      | 参数说明 | 是否必填 | 数据类型 |
| ------------- | -------- | -------- | -------- |
| C_GROUP_CODE  | 分类代码 | 否       | string   |
| LEVEL         | 组合层级 | 否       | string   |
| N_CHECK_STATE | 审核状态 | 是       | string   |

**参数示例：**

```json
{
    C_GROUP_CODE:"2",
    LEVEL:"PORT_LAYER",
    N_CHECK_STATE:"SearchAll"
}
```



### 返回值说明

| **参数名称**   | **参数说明** | **数据类型** |
| -------------- | ------------ | ------------ |
| id             | id           | string       |
| modifier       | 制作人       | string       |
| modifyDate     | 制作时间     | string       |
| startUseDate   | 开始使用时间 | string       |
| endUseDate     | 结束使用时间 | string       |
| auditState     | 审核状态     | string       |
| operator       | 审核人       | string       |
| auditDate      | 审核时间     | string       |
| c_GROUP_NAME   | 分类名称     | string       |
| c_PORT_NAME    | 组合名称     | string       |
| c_PORT_CODE    | 组合代码     | string       |
| c_DV_PORT_CODE | 组合级别     | string       |
| n_CHECK_TYPE   | 审核状态名称 | string       |
| c_GROUP_CODE   | 分类名称     | string       |
| isLeaf         | 是否叶子节点   | boolean      |

**返回值示例：**


```json
{
    code: "success",
    data: [
        {
            id: "2",
            modifier: "Test",
            modifyDate: "20201130 13:29:45",
            startUseDate: "2020-11-30 16:07:57",
            endUseDate: "2020-11-30 16:07:57",
            auditState: 0,
            operator: null,
            auditDate: null,
            c_GROUP_NAME:"2",
            c_PORT_NAME:"安信华宝信托安心定增分组06 ",
            c_PORT_CODE:"XNG191 ",
            c_DV_PORT_CODE:"单元层 ",
            n_CHECK_TYPE:"未审核 ",
            c_GROUP_CODE:"2"
        }, 
        {
            id: "1",
            modifier: "Test",
            modifyDate: "20201130 13:29:45",
            startUseDate: "2020-11-30 16:07:57",
            endUseDate: "2020-11-30 16:07:57",
            auditState: 0,
            operator: null,
            auditDate: null,
            c_GROUP_NAME:"2",
            c_PORT_NAME:"安信基金长龙 ",
            c_PORT_CODE:"756207 ",
            c_DV_PORT_CODE:"组合层 ",
            n_CHECK_TYPE:"未审核 ",
            c_GROUP_CODE:"2"
        }
    ]
    msg: "查询成功！"，
    success: true
}
```



# 管控基础参数

## 管控基础参数查询

### 接口说明

| **接口描述** | 管控基础参数查询                                             |
| :----------: | ------------------------------------------------------------ |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/sysparam/query                                          |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IMonitorSysParamService.queryByCondition(HashMap<String, Object> paraMap) |

### 请求参数

| 参数名称  | 参数说明 | 是否必填 | 数据类型 |
| --------- | -------- | -------- | -------- |
| paramName | 参数名称 | 否       | string   |
| pageSize  | pageSize | 是       | Integer  |
| pageNo    | pageNo   | 是       | Integer  |

**参数示例：**

```json
{
	paramName:"参数名称",
    pageSize : 100 ,
    pageNo: 1
}
```



### 返回值说明

| **参数名称**   | **参数说明**                           | **数据类型**               |
| -------------- | -------------------------------------- | -------------------------- |
| **data**       |                                        |                            |
| **list**       | 列表数据(数组)                         |                            |
| id             | id                                     | string                     |
| modifier       | 制作人                                 | string                     |
| modifyDate     | 制作时间                               | string                     |
| startUseDate   | 开始使用时间                           | string                     |
| endUseDate     | 结束使用时间                           | string                     |
| auditState     | 审核状态                               | string                     |
| operator       | 审核人                                 | string                     |
| auditDate      | 审核时间                               | string                     |
| paramType      | 参数类型                               | string                     |
| paramName      | 参数名称                               | string                     |
| paramCondition | 参数条件                               | string                     |
| paramValueCode | 参数值code                             | string                     |
| paramValue     | 参数值                                 | string                     |
| paramValueList | 参数值（带有多选下拉框的需要存入）     | List<MonitorSysParamValue> |
| paramValueStr  | 参数值集合（带有多选下拉框的需要存入） | string                     |
| paramRelaList  | 参数关联集合                           | List<MonitorSysParamRela>  |
| paramRelaStr   | 参数关联值                             | string                     |
| paramDesc      | 参数描述                               | string                     |
| **total**      | **记录总数**                           | **Integer**                |

**MonitorSysParamValue:**

| 参数名称  | 参数说明 | 是否必填 | 数据类型 |
| --------- | -------- | -------- | -------- |
| id        | id       | 是       | string   |
| idenRela  | 关联id   | 是       | string   |
| paramCode | 参数代码 | 是       | string   |
| paramName | 参数名称 | 是       | string   |

**MonitorSysParamRela:**

| 参数名称  | 参数说明 | 是否必填 | 数据类型 |
| --------- | -------- | -------- | -------- |
| id        | id       | 是       | string   |
| idenRela  | 关联id   | 是       | string   |
| paramType | 参数类型 | 是       | string   |
| paramCode | 参数代码 | 是       | string   |
| paramName | 参数名称 | 是       | string   |

**返回值示例：**


```json
{
    code: "success",
    data: {
        list:[
            {
                id: "26",
                modifier: "",
                modifyDate: null,
                startUseDate: "2020-11-30 16:39:44",
                endUseDate: "2020-11-30 16:39:44",
                auditState: 0,
                operator: "",
                auditDate: null,
                paramType: "autoDeployCheck",
                paramName: "指标部署后是否自动审核",
                paramCondition: "=",
                paramValueCode: "ENABLE",
                paramValue: "启用",
                paramValueList: null,
                paramValueStr: null,
                paramRelaList: null,
                paramRelaStr: "-",
                paramDesc: "控制指标部署后是否自动审核"
            }, 
            {
                id: "22",
                modifier: "",
                modifyDate: null,
                startUseDate: "2020-11-30 16:39:44",
                endUseDate: "2020-11-30 16:39:44",
                auditState: 0,
                operator: "",
                auditDate: null,
                paramType: "autoRelateGroup",
                paramName: "指标自动关联优先群组",
                paramCondition: "=",
                paramValueCode: "QYZT_DISB",
                paramValue: "不启用",
                paramValueList: null,
                paramValueStr: null,
                paramRelaList: null,
                paramRelaStr: "-",
                paramDesc: "指标自动关联组合时，是否优化按群组关联"
            }
    	],
        total: 100
    }
    msg: "查询成功！"，
    success: true
}
```





## 管控基础参数新增

### 接口说明

| **接口描述** | 管控基础参数新增                                             |
| :----------: | :----------------------------------------------------------- |
| **接口方式** | http                                                         |
| **接口地址** | /ocp/sysparam/save                                           |
| **请求方式** | POST                                                         |
| **请求类型** | param                                                        |
| **后台接口** | IMonitorSysParamService.insert(com.yss.uco.monitor.paramConfig.pojo.MonitorSysParam pojo) |

### 请求参数

| 参数名称        | 参数说明         | 是否必填 | 数据类型 |
| --------------- | ---------------- | -------- | -------- |
| id | id | 否 | string |
| paramType      | 参数类型     | 是     |string|
| paramName      | 参数名称     | 是      |string|
| paramCondition | 参数条件     | 是      |string|
| paramValueCode | 参数值code  | 是       |string|
| paramValue     | 参数值       | 是      |string|
| paramValueList | 参数值（带有多选下拉框的需要存入） | 否 |List<MonitorSysParamValue>|
| paramValueStr  | 参数值集合（带有多选下拉框的需要存入） | 否 |string|
| paramRelaList  | 参数关联集合 | 否 |List<MonitorSysParamRela>|
| paramRelaStr   | 参数关联值   | 是      |string|
| paramDesc      | 参数描述     | 是      |string|
| IsEdit | 是否编辑 | 是 |boolean|
| modifier       | 制作人       | 否      |string|
| modifyDate     | 制作时间     | 否      |string|
| auditState     | 审核状态     | 否      |string|
| operator       | 审核人       | 否      |string|
| auditDate      | 审核时间     | 否      |string|

**MonitorSysParamValue:**

| 参数名称  | 参数说明 | 是否必填 | 数据类型 |
| --------- | -------- | -------- | -------- |
| id        | id       | 是       | string   |
| idenRela  | 关联id   | 是       | string   |
| paramCode | 参数代码 | 是       | string   |
| paramName | 参数名称 | 是       | string   |

**MonitorSysParamRela:**

| 参数名称  | 参数说明 | 是否必填 | 数据类型 |
| --------- | -------- | -------- | -------- |
| id        | id       | 是       | string   |
| idenRela  | 关联id   | 是       | string   |
| paramType | 参数类型 | 是       | string   |
| paramCode | 参数代码 | 是       | string   |
| paramName | 参数名称 | 是       | string   |



**参数示例：**

```json
{
    id: ""
    paramType: "autoMonitor", 
    paramName: "不支持自动监控产品状态", 
    paramCondition: "=", 
    paramValueCode: "-", 
    paramValue: "-", 
    paramValueStr: "PS1|PS2|PS3|PS6|PS7", 
    paramValueList: [
        {
            idenRela: "101", 
            paramCode: "PS1", 
            paramName: "草稿", 
            id: ""
        }, 
        {
            idenRela: "101", 
            paramCode: "PS2", 
            paramName: "待发行", 
            id": ""
        }, 
        {
            idenRela: "101", 
            paramCode: "PS3", 
            paramName: "募集期", 
            id": ""
        }, 
        {
            idenRela: "101", 
            paramCode: "PS6", 
            paramName: "已清算", 
            id": ""
        }, 
        {
            idenRela: "101", 
            paramCode: "PS7", 
            paramName: "已关账", 
            id: ""
        }
    ], 
    paramRelaStr: "-", 
    paramRelaList: null, 
    paramDesc: "针对已设置产品状态，系统将不再自动监控对应产品的执行情况", 
    IsEdit: false, 
    auditState: 1, 
    operator: "ht", 
    auditDate: "20201124 14:05:50", 
    modifier: "zxf", 
    modifyDate: "20201202 16:21:44", 
} 
 
```



### 返回值说明

| **参数名称**   | **参数说明**                           | **数据类型**               |
| -------------- | -------------------------------------- | -------------------------- |
| paramType      | 参数类型                               | string                     |
| paramName      | 参数名称                               | string                     |
| paramCondition | 参数条件                               | string                     |
| paramValueCode | 参数值code                             | string                     |
| paramValue     | 参数值                                 | string                     |
| paramValueList | 参数值（带有多选下拉框的需要存入）     | List<MonitorSysParamValue> |
| paramValueStr  | 参数值集合（带有多选下拉框的需要存入） | string                     |
| paramRelaList  | 参数关联集合                           | List<MonitorSysParamRela>  |
| paramRelaStr   | 参数关联值                             | string                     |
| paramDesc      | 参数描述                               | string                     |

**返回值示例：**


```json
{
    code: "success",
    msg: "保存成功！"，
    success: true
}
```



# 管控指标参数管理

## 指标参数管理查询

### 接口说明

| **接口描述** |                                             |
| :----------: | ------------------------------------------- |
| **接口方式** | http                                        |
| **接口地址** | /ocp/indexparam/query                       |
| **请求方式** | POST                                        |
| **请求类型** | param                                       |
| **后台接口** | IOcpIndexParamService.queryIndexParamList() |

### 请求参数

| 参数名称         | 参数说明                     | 是否必填 | 数据类型 |
| ---------------- | ---------------------------- | -------- | -------- |
| SearchMode       | 查询模式(指标/组合)          | 是       | string   |
| ARRAY_INDEX_CODE | 指标代码（多个时，数组形式） | 是       | string   |
| N_CHECK_STATE    | 审核状态                     | 是       | string   |
| ARRAY_PORT_CODE  | 组合代码(多个逗号分隔)       | 是       | string   |
| C_PARAM_TYPE     | 生效参数                     | 否       | string   |

**参数示例：**

```json
{
	SearchMode : "PortMode",   //PortMode 组合模式 ; IndexMode 指标模式
    ARRAY_INDEX_CODE : "ACT_JZSYPZSCRQJK", //指标代码
    N_CHECK_STATE : "SearchAll"，
    ARRAY_PORT_CODE : "002308,167501",  //组合代码
    C_PARAM_TYPE: "ocp_indexParam"
}
```



### 返回值说明

| **参数名称**  | **参数说明**                     | **数据类型** |
| ------------- | -------------------------------- | ------------ |
| id            | id                               | string       |
| modifier      | 制作人                           | string       |
| modifyDate    | 制作时间                         | string       |
| startUseDate  | 开始使用时间                     | string       |
| endUseDate    | 结束使用时间                     | string       |
| auditState    | 审核状态                         | string       |
| operator      | 审核人                           | string       |
| auditDate     | 审核时间                         | string       |
| name          | 名称                             | string       |
| code          | 代码                             | string       |
| paramType     | 参数类型                         | string       |
| parentCode    | 上级代码                         | string       |
| parentName    | 上级名称                         | string       |
| indexCode     | 指标代码                         | string       |
| relaCode      | 关联代码                         | string       |
| relaName      | 关联名字                         | string       |
| relaType      | 关联类型                         | string       |
| paramRelaType | 关联类型（参数）                 | string       |
| paramRelaCode | 关联代码（参数）                 | string       |
| allCount      | 子节点总数量(父级节点才有总数量) | string       |
| isLeaf        | 是否叶子节点                     | boolean      |


**返回值示例：**


```json
{
    code: "success",
    data: [{
            id: "",
            modifier: "",
            modifyDate: null,
            startUseDate: "2020-12-15 15:17:07",
            endUseDate: "2020-12-15 15:17:07",
            auditState: 1,
            operator: "",
            auditDate: null,
            indexOperate: null,
            name: "NOSQL_TEST",
            code: "NOSQL_TEST",
            paramType: "ocp_indexParam",
            parentCode: "092901",
            parentName: "092901",
            indexCode: "NOSQL_TEST",
            relaCode: null,
            relaName: null,
            relaType: "ocp_portRela",
            paramRelaType: "-",
            paramRelaCode: "-",
            newParamIdList: null,
        	isLeaf: false,
            allCount: "10"
        	children: [{
                    id: "",
                    modifier: "",
                    modifyDate: null,
                    startUseDate: "2020-12-15 15:17:07",
                    endUseDate: "2020-12-15 15:17:07",
                    auditState: 1,
                    operator: "",
                    auditDate: null,
                    indexOperate: null,
                    name: "80002_TEST_WARN",
                    code: "80002_TEST_WARN",
                    paramType: "ocp_indexParam",
                    parentCode: "092901",
                    parentName: "092901",
                    indexCode: "80002_TEST_WARN",
                    relaCode: "CLS_PT",
                    relaName: "普通型",
                    relaType: "ocp_datRela",
                    paramRelaType: "-",
                    paramRelaCode: "-",
                    newParamIdList: null,
        			allCount: "",
                	isLeaf: true
                }, {
                    id: "",
                    modifier: "",
                    modifyDate: null,
                    startUseDate: "2020-12-15 15:17:07",
                    endUseDate: "2020-12-15 15:17:07",
                    auditState: 1,
                    operator: "",
                    auditDate: null,
                    indexOperate: null,
                    name: "证券送配权益业务监控",
                    code: "STOCK_ZQSPYWJK",
                    paramType: "ocp_indexParam",
                    parentCode: "092901",
                    parentName: "092901",
                    indexCode: "STOCK_ZQSPYWJK",
                    relaCode: "CLS_PT",
                    relaName: "普通型",
                    relaType: "ocp_datRela",
                    paramRelaType: "-",
                    paramRelaCode: "-",
                    newParamIdList: null,
                    allCount: "",
                    isLeaf: true
             }]
    }],
    msg: "查询成功！"，
    success: true
}
```



## 指标参数管理设置

### 接口说明

| **接口描述** |                                             |
| :----------: | ------------------------------------------- |
| **接口方式** | http                                        |
| **接口地址** | /ocp/indexparam/update                      |
| **请求方式** | POST                                        |
| **请求类型** | param                                       |
| **后台接口** | IOcpIndexParamService.updateIndexParamVal() |

### 请求参数

| 参数名称            | 参数说明     | 是否必填 | 数据类型 |
| ------------------- | ------------ | -------- | -------- |
| **MonitorParamVal** | 参数列表     | 是       | array    |
| portCode            | 组合代码     | 是       | string   |
| indexCode           | 指标代码     | 是       | string   |
| planCode            | 计划代码     | 否       | string   |
| paramID             | 参数ID       | 是       | string   |
| paramType           | 参数类型     | 否       | string   |
| nameCode            | 参数名称Code | 是       | string   |
| nameVal             | 参数名称Val  | 是       | string   |
| conditionCode       | 监控条件Code | 是       | string   |
| conditionVal        | 监控条件Val  | 是       | string   |
| valueCode           | 参数值Code   | 是       | string   |
| valueVal            | 参数值Val    | 是       | string   |
| descCode            | 参数描述Code | 是       | string   |
| descVal             | 参数描述Va   | 是       | string   |

**参数示例：**

```json
{
    MonitorParamVal:[{
        portCode: null,
        indexCode: "70049_TEST",
        planCode: null,
        paramID: "P1",
        paramType: null,
        nameCode: "name",
        nameVal: "检查包含全价报价债券",
        conditionCode: "condition",
        conditionVal: "等于",
        valueCode: "value",
        valueVal: "0",
        descCode: "desc",
        descVal: "用于控制在取估值表债券持仓时,是否要排除债券的报价方式为全价的债品",
        relaType: "-",
        relaCode: "-",
        newRelaType: "-",
        newRelaCode: "-",
        id: ""
    }, {
        portCode: null,
        indexCode: "70049_TEST",
        planCode: null,
        paramID: "P2",
        paramType: null,
        nameCode: "name",
        nameVal: "检查包含全价报价债券",
        conditionCode: "condition",
        conditionVal: "等于",
        valueCode: "value",
        valueVal: "0",
        descCode: "desc",
        descVal: "用于控制在取估值表债券持仓时,是否要排除债券的报价方式为全价的债品",
        relaType: "-",
        relaCode: "-",
        newRelaType: "-",
        newRelaCode: "-",
        id: ""
    }]
}
```



### 返回值说明

| **参数名称** | **参数说明** | **数据类型** |
| ------------ | ------------ | ------------ |
|              |              |              |


**返回值示例：**


```json
{
    code: "success",
    msg: "保存成功！"，
    success: true
}
```



# 监控日志总览(***需要找)

## 监控日志总览查询

### 接口说明

| **接口描述** | 监控日志总览查询                             |
| :----------: | -------------------------------------------- |
| **接口方式** | http                                         |
| **接口地址** | /ocp/summary/query                           |
| **请求方式** | POST                                         |
| **请求类型** | param                                        |
| **后台接口** | IMonitorSummaryService.queryByConditionNew() |

### 请求参数

| 参数名称           | 参数说明                        | 是否必填 | 数据类型 |
| ------------------ | ------------------------------- | -------- | -------- |
| MONITOR_START_DATE | 业务开始日期                    | 是       | date     |
| MONITOR_END_DATE   | 业务结束日期                    | 是       | date     |
| MONITOR_STATE      | 状态                            | 否       | string   |
| CHECK_STATE        | 处理状态                        | 否       | string   |
| PORT_CODES         | 组合代码（多个）                |          |          |
| INDEX_CODES        | 指标代码（多个）                |          |          |
| SEARCH_MODE        | 查询模式(组合模式/指标模式)     | 是       | string   |
| SEARCH_STYLE       | 查询方式(按业务日期/按执行日期) | 是       | string   |
| SEARCH_PLAN        | 查询方案                        | 否       | string   |

**参数示例：**

```json
{
    MONITOR_START_DATE:"2020-12-11",
    MONITOR_END_DATE:"2020-12-11",
    MONITOR_STATE:"Fail,Warning,Error,Pending,Success",
	CHECK_STATE:"0,1",
    PORT_CODES:"zsmtest1,0001,092901,zsm",
  	INDEX_CODES:"ACT_ETFTZGLQSXXWZXJC",
    SEARCH_MODE:"SEARCH_MODE_INDEX",
    SEARCH_STYLE:"SEARCH_STYLE_BUS"
}

```



### 返回值说明

| **参数名称**    | **参数说明** | **数据类型** |
| --------------- | ------------ | ------------ |
| id              | id           | string       |
| c_INDEX_CODE    | 指标代码     | string       |
| c_INDEX_NAME    | 指标名称     | string       |
| c_PORT_CODE     | 产品代码     | string       |
| c_PORT_NAME     | 产品名称     | string       |
| c_EXECUTE_STATE | 执行状态     | string       |
| c_MONITOR_STATE | 监控状态     | string       |
| c_EXE_RESULT    | 结果描述     | string       |
| total           | 总计         | string       |
| c_BIZ_PERIOD    | 业务日期     | string       |
| modifier        | 执行人       | string       |
| c_UPDATE_TIME   | 最近监控时间 | string       |
| c_COMMENT       | 确认备注     | string       |
| operator        | 确认人       | string       |
| c_CHECK_TIME    | 确认时间     | string       |



**返回值示例：**


```json
{
	code: "success",
	data: [{
				id: "",
				c_IDEN: null,
				c_INDEX_CODE: "ACT_ETFTZGLQSXXWZXJC",
				c_INDEX_NAME: "ETF台账关联券商信息完成性检查",
				c_INDEX_TYPE: null,
				c_MONITOR_STATE: "Pending",
				c_EXECUTE_STATE: "0",
				c_PORT_CODE: "",
				c_PORT_NAME: "ETF台账关联券商信息完成性检查",
				c_CHECK_STATE: "0",
				c_UPDATE_TIME: null,
				c_EXE_RESULT: "未执行(2)",
				c_CHECK_TIME: null,
				operator: null,
				c_COMMENT: null,
				c_MONITOR_DATE: "2020-12-11",
				c_BIZ_PERIOD: "2020-12-11",
				c_Task_Code: null,
				extraString_1: null,
				extraString_2: null,
				extraString_3: null,
				extraDate_1: null,
				c_DAT_CLS: "",
				c_DAT_NAME: "",
				c_TYPE_CODE: "0001test",
				c_TYPE_NAME: "开发测试1",
				modifier: null,
				total: 2,
				d_EXECUTE_BEGIN: null,
				d_EXECUTE_END: null,
				executeId: null,
				c_RISK_LEVEL: "",
				c_RISK_LEVEL_NAME: "",
				c_ISPUBLIC: "0",
				itemCode: null,
				itemName: null,
				mergeType: null,
				indexLevel: 0,
				children: [{
					id: "",
					c_IDEN: null,
					c_INDEX_CODE: "ACT_ETFTZGLQSXXWZXJC",
					c_INDEX_NAME: "ETF台账关联券商信息完成性检查",
					c_INDEX_TYPE: null,
					c_MONITOR_STATE: "Pending",
					c_EXECUTE_STATE: "0",
					c_PORT_CODE: "ASS_QDII",
					c_PORT_NAME: "QDII证券基金",
					c_CHECK_STATE: "0",
					c_UPDATE_TIME: null,
					c_EXE_RESULT: "未执行(2)",
					c_CHECK_TIME: null,
					operator: null,
					c_COMMENT: null,
					c_MONITOR_DATE: "2020-12-11",
					c_BIZ_PERIOD: "2020-12-11",
					c_Task_Code: null,
					extraString_1: null,
					extraString_2: null,
					extraString_3: null,
					extraDate_1: null,
					c_DAT_CLS: "ASS_QDII",
					c_DAT_NAME: "QDII证券基金",
					c_TYPE_CODE: "0001test",
					c_TYPE_NAME: "开发测试1",
					modifier: null,
					total: 2,
					d_EXECUTE_BEGIN: null,
					d_EXECUTE_END: null,
					executeId: null,
					c_RISK_LEVEL: "low",
					c_RISK_LEVEL_NAME: "低",
					c_ISPUBLIC: "0",
					itemCode: null,
					itemName: null,
					mergeType: null,
					indexLevel: 0,
					children: [{
							id: "",
							c_IDEN: null,
							c_INDEX_CODE: "ACT_ETFTZGLQSXXWZXJC",
							c_INDEX_NAME: "ETF台账关联券商信息完成性检查",
							c_INDEX_TYPE: null,
							c_MONITOR_STATE: "Pending",
							c_EXECUTE_STATE: "0",
							c_PORT_CODE: "092901",
							c_PORT_NAME: "092901",
							c_CHECK_STATE: "0",
							c_UPDATE_TIME: null,
							c_EXE_RESULT: "指标未执行",
							c_CHECK_TIME: null,
							operator: null,
							c_COMMENT: null,
							c_MONITOR_DATE: "2020-12-11",
							c_BIZ_PERIOD: "2020-12-11",
							c_Task_Code: null,
							extraString_1: null,
							extraString_2: null,
							extraString_3: null,
							extraDate_1: null,
							c_DAT_CLS: "ASS_QDII",
							c_DAT_NAME: "QDII证券基金",
							c_TYPE_CODE: "0001test",
							c_TYPE_NAME: "开发测试1",
							modifier: null,
							total: 0,
							d_EXECUTE_BEGIN: null,
							d_EXECUTE_END: null,
							executeId: null,
							c_RISK_LEVEL: "low",
							c_RISK_LEVEL_NAME: "低",
							c_ISPUBLIC: "0",
							itemCode: null,
							itemName: null,
							mergeType: null,
							indexLevel: 0
						},
						{
							id: "",
							c_IDEN: null,
							c_INDEX_CODE: "ACT_ETFTZGLQSXXWZXJC",
							c_INDEX_NAME: "ETF台账关联券商信息完成性检查",
							c_INDEX_TYPE: null,
							c_MONITOR_STATE: "Pending",
							c_EXECUTE_STATE: "0",
							c_PORT_CODE: "0001",
							c_PORT_NAME: "0001",
							c_CHECK_STATE: "0",
							c_UPDATE_TIME: null,
							c_EXE_RESULT: "指标未执行",
							c_CHECK_TIME: null,
							operator: null,
							c_COMMENT: null,
							c_MONITOR_DATE: "2020-12-11",
							c_BIZ_PERIOD: "2020-12-11",
							c_Task_Code: null,
							extraString_1: null,
							extraString_2: null,
							extraString_3: null,
							extraDate_1: null,
							c_DAT_CLS: "ASS_QDII",
							c_DAT_NAME: "QDII证券基金",
							c_TYPE_CODE: "0001test",
							c_TYPE_NAME: "开发测试1",
							modifier: null,
							total: 0,
							d_EXECUTE_BEGIN: null,
							d_EXECUTE_END: null,
							executeId: null,
							c_RISK_LEVEL: "low",
							c_RISK_LEVEL_NAME: "低",
							c_ISPUBLIC: "0",
							itemCode: null,
							itemName: null,
							mergeType: null,
							indexLevel: 0
					}]
				}]
			}]
			msg: "查询成功！"，
			success: true
}
```



# 指标信息管理(***需要找)



# 指标开发配置 (***需要找)